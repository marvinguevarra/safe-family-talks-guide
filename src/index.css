@tailwind base;
@tailwind components;
@tailwind utilities;

/* Together We Talk - Privacy-First Family Support App Design System */

@layer base {
  :root {
    /* Warm, calming color palette for family support */
    --background: 44 50% 97%;  /* Cream background #FFF5E4 */
    --foreground: 220 30% 20%; /* Dark text for readability */

    --card: 0 0% 100%;
    --card-foreground: 220 30% 20%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 30% 20%;

    /* Sky Blue primary - calming and trustworthy */
    --primary: 195 53% 79%;     /* Sky Blue #87CEEB */
    --primary-foreground: 220 30% 20%;

    /* Warm Coral secondary - welcoming */
    --secondary: 3 100% 70%;    /* Warm Coral #FF6B6B */
    --secondary-foreground: 0 0% 100%;

    /* Sage Green for success/safety */
    --sage: 162 69% 35%;        /* Darker Sage Green for proper contrast */
    --sage-foreground: 0 0% 100%;

    /* Soft Purple for gentle emphasis */
    --purple: 265 56% 45%;      /* Darker Purple for proper contrast */
    --purple-foreground: 0 0% 100%;

    /* Sunshine for positivity */
    --sunshine: 50 100% 62%;    /* Sunshine #FFD93D */
    --sunshine-foreground: 220 30% 20%;

    --muted: 210 40% 92%;
    --muted-foreground: 215.4 16.3% 35%; /* Darker for WCAG compliance */

    --accent: 162 69% 71%;      /* Using sage as accent */
    --accent-foreground: 220 30% 20%;

    --destructive: 3 100% 70%;   /* Using coral for warnings */
    --destructive-foreground: 0 0% 100%;

    --border: 210 20% 90%;
    --input: 210 20% 95%;
    --ring: 195 53% 79%;

    --radius: 1.25rem;  /* 20px rounded corners */

    /* Quick Exit button - always accessible */
    --exit-bg: 0 84% 50%;       /* Emergency red */
    --exit-fg: 0 0% 100%;

    /* WCAG 2.2 AA Compliant Gradients */
    --gradient-warm: linear-gradient(135deg, hsl(195 53% 65%), hsl(162 69% 55%));
    --gradient-sunset: linear-gradient(135deg, hsl(14 91% 60%), hsl(39 100% 55%));
    --gradient-gentle: linear-gradient(180deg, hsl(44 50% 97%), hsl(210 40% 96%));

    /* Shadows for cards */
    --shadow-soft: 0 4px 20px -4px hsl(195 53% 79% / 0.15);
    --shadow-hover: 0 8px 30px -6px hsl(195 53% 79% / 0.25);

    /* Typography */
    --font-size-base: 1.125rem;  /* 18px base for readability */
    --font-size-large: 1.25rem;  /* 20px */
    --font-size-xl: 1.5rem;      /* 24px */

    /* Animations */
    --transition-gentle: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-quick: all 0.15s ease-out;
  }

  .dark {
    --background: 220 30% 10%;
    --foreground: 44 50% 97%;

    --card: 220 30% 15%;
    --card-foreground: 44 50% 97%;

    --popover: 220 30% 15%;
    --popover-foreground: 44 50% 97%;

    --primary: 195 53% 79%;
    --primary-foreground: 220 30% 10%;

    --secondary: 3 100% 70%;
    --secondary-foreground: 220 30% 10%;

    --sage: 162 69% 71%;
    --sage-foreground: 220 30% 10%;

    --purple: 265 56% 81%;
    --purple-foreground: 220 30% 10%;

    --sunshine: 50 100% 62%;
    --sunshine-foreground: 220 30% 10%;

    --muted: 220 30% 25%;
    --muted-foreground: 210 20% 80%; /* Lighter for dark mode contrast */

    --accent: 162 69% 71%;
    --accent-foreground: 220 30% 10%;

    --destructive: 3 100% 70%;
    --destructive-foreground: 220 30% 10%;

    --border: 220 30% 25%;
    --input: 220 30% 20%;
    --ring: 195 53% 79%;

    --gradient-warm: linear-gradient(135deg, hsl(195 53% 40%), hsl(162 69% 35%));
    --gradient-sunset: linear-gradient(135deg, hsl(14 91% 45%), hsl(39 100% 40%));
    --gradient-gentle: linear-gradient(180deg, hsl(220 30% 10%), hsl(220 30% 15%));

    --shadow-soft: 0 4px 20px -4px hsl(0 0% 0% / 0.3);
    --shadow-hover: 0 8px 30px -6px hsl(0 0% 0% / 0.4);
  }

  /* High Contrast Mode */
  .high-contrast {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;
    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;
    --secondary: 60 100% 50%;
    --secondary-foreground: 0 0% 0%;
    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 100%;
    --accent: 60 100% 50%;
    --accent-foreground: 0 0% 0%;
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 100%;
    --input: 0 0% 20%;
    --ring: 0 0% 100%;
  }

  /* High contrast in dark mode */
  .dark.high-contrast {
    --background: 0 0% 0%;
    --foreground: 0 0% 100%;
    --card: 0 0% 0%;
    --card-foreground: 0 0% 100%;
    --popover: 0 0% 0%;
    --popover-foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 0 0% 0%;
    --secondary: 60 100% 50%;
    --secondary-foreground: 0 0% 0%;
    --muted: 0 0% 20%;
    --muted-foreground: 0 0% 100%;
    --accent: 60 100% 50%;
    --accent-foreground: 0 0% 0%;
    --destructive: 0 100% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 100%;
    --input: 0 0% 20%;
    --ring: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-size: var(--font-size-base);
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-foreground;
  }

  h1 { font-size: 2.5rem; }
  h2 { font-size: 2rem; }
  h3 { font-size: 1.75rem; }
  h4 { font-size: 1.5rem; }

  /* Font Size Accessibility Classes */
  .font-small { font-size: 0.875rem; }
  .font-medium { font-size: 1rem; }
  .font-large { font-size: 1.125rem; }
  .font-extra-large { font-size: 1.25rem; }

  .font-small body { font-size: 0.875rem; }
  .font-medium body { font-size: 1rem; }
  .font-large body { font-size: 1.125rem; }
  .font-extra-large body { font-size: 1.25rem; }

  .font-small h1 { font-size: 2rem; }
  .font-small h2 { font-size: 1.75rem; }
  .font-small h3 { font-size: 1.5rem; }
  .font-small h4 { font-size: 1.25rem; }

  .font-large h1 { font-size: 2.75rem; }
  .font-large h2 { font-size: 2.25rem; }
  .font-large h3 { font-size: 2rem; }
  .font-large h4 { font-size: 1.75rem; }

  .font-extra-large h1 { font-size: 3rem; }
  .font-extra-large h2 { font-size: 2.5rem; }
  .font-extra-large h3 { font-size: 2.25rem; }
  .font-extra-large h4 { font-size: 2rem; }

  /* Line Spacing Classes */
  .spacing-normal { line-height: 1.5; }
  .spacing-relaxed { line-height: 1.75; }
  .spacing-loose { line-height: 2; }

  /* Dyslexia-friendly Font */
  .dyslexia-font {
    font-family: 'Comic Sans MS', 'Trebuchet MS', 'Verdana', cursive, sans-serif;
  }

  /* Reduced Animations for Crisis Support */
  .reduce-animations,
  .reduce-animations * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    transform: none !important;
  }

  .reduce-animations .nav-card:hover {
    transform: none !important;
  }

  .reduce-animations .quick-exit:hover,
  .reduce-animations .accessibility-trigger:hover,
  .reduce-animations .btn-primary:hover,
  .reduce-animations .btn-secondary:hover,
  .reduce-animations .btn-sage:hover,
  .reduce-animations .language-toggle:hover {
    transform: none !important;
    scale: 1 !important;
  }
}

@layer components {
  /* Navigation Cards */
  .nav-card {
    @apply bg-card border border-border rounded-[20px] p-6 transition-all duration-300;
    @apply hover:shadow-lg hover:-translate-y-1;
    box-shadow: var(--shadow-soft);
  }

  .nav-card:hover {
    box-shadow: var(--shadow-hover);
  }

  /* Quick Exit Button - Critical Safety Feature */
  .quick-exit {
    @apply fixed bottom-4 left-4 z-50 px-4 py-2 rounded-full font-semibold text-sm;
    @apply transition-all duration-200 hover:scale-105;
    background: hsl(var(--exit-bg));
    color: hsl(var(--exit-fg));
    box-shadow: 0 4px 15px -3px hsl(0 84% 50% / 0.4);
  }

  /* Accessibility Button */
  .accessibility-trigger {
    @apply fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full;
    @apply flex items-center justify-center transition-all duration-300;
    @apply hover:scale-110 focus:outline-none focus:ring-4;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    box-shadow: var(--shadow-soft);
  }

  /* Content Cards */
  .content-card {
    @apply bg-card border border-border rounded-[20px] p-6 mb-6;
    box-shadow: var(--shadow-soft);
  }

  /* Button Variants */
  .btn-primary {
    @apply px-6 py-3 rounded-[20px] font-semibold transition-all duration-200;
    @apply hover:scale-105 focus:outline-none focus:ring-4;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  .btn-secondary {
    @apply px-6 py-3 rounded-[20px] font-semibold transition-all duration-200;
    @apply hover:scale-105 focus:outline-none focus:ring-4;
    background: hsl(var(--secondary));
    color: hsl(var(--secondary-foreground));
  }

  .btn-sage {
    @apply px-6 py-3 rounded-[20px] font-semibold transition-all duration-200;
    @apply hover:scale-105 focus:outline-none focus:ring-4;
    background: hsl(var(--sage));
    color: hsl(var(--sage-foreground));
  }

  /* Print Styles */
  @media print {
    .quick-exit,
    .accessibility-trigger,
    .no-print {
      display: none !important;
    }
    
    .nav-card,
    .content-card {
      break-inside: avoid;
      box-shadow: none;
      border: 1px solid #ddd;
    }
    
    body {
      background: white;
      font-size: 12pt;
      line-height: 1.4;
    }
  }

  /* Language Toggle */
  .language-toggle {
    @apply flex items-center gap-2 px-4 py-2 rounded-full border-2;
    @apply transition-all duration-200 hover:scale-105;
    border-color: hsl(var(--primary));
    background: hsl(var(--background));
  }

  /* Disclaimer */
  .disclaimer {
    @apply p-4 rounded-[20px] border-2 border-dashed mb-6;
    border-color: hsl(var(--secondary));
    background: hsl(var(--secondary) / 0.1);
  }
}